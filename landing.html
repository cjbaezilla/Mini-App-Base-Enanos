<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Enanos Club - 188 NFTs Únicos de las Montañas Legendarias | Mini App Farcaster</title>
    <meta name="description" content="Descubre Enanos Club: 188 NFTs únicos de enanos legendarios con historias épicas y poderes mágicos. Colección exclusiva disponible en Farcaster con 10 series épicas y 30+ atributos únicos.">
    <meta name="keywords" content="NFTs, Enanos, Club, Farcaster, Mini App, Blockchain, Colección, Arte Digital, Montañas, Legendarios, Épico, Magia, Poderes">
    <meta name="author" content="Enanos Club">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://app.enanos.club/showcase.html">
    <meta property="og:title" content="Enanos Club - 188 NFTs Únicos de las Montañas Legendarias">
    <meta property="og:description" content="Descubre Enanos Club: 188 NFTs únicos de enanos legendarios con historias épicas y poderes mágicos. Colección exclusiva disponible en Farcaster.">
    <meta property="og:image" content="https://app.enanos.club/hero.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Enanos Club - Colección de NFTs de Enanos Legendarios">
    <meta property="og:site_name" content="Enanos Club">
    <meta property="og:locale" content="es_ES">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://app.enanos.club/showcase.html">
    <meta name="twitter:title" content="Enanos Club - 188 NFTs Únicos de las Montañas Legendarias">
    <meta name="twitter:description" content="Descubre Enanos Club: 188 NFTs únicos de enanos legendarios con historias épicas y poderes mágicos. Colección exclusiva disponible en Farcaster.">
    <meta name="twitter:image" content="https://app.enanos.club/hero.png">
    <meta name="twitter:image:alt" content="Enanos Club - Colección de NFTs de Enanos Legendarios">
    <meta name="twitter:creator" content="@enanos_club">
    <meta name="twitter:site" content="@enanos_club">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#8b4513">
    <meta name="msapplication-TileColor" content="#8b4513">
    <meta name="application-name" content="Enanos Club">
    <meta name="apple-mobile-web-app-title" content="Enanos Club">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://app.enanos.club/showcase.html">
    
    <!-- Alternate Language -->
    <link rel="alternate" hreflang="en" href="https://app.enanos.club/showcase.html">
    <link rel="alternate" hreflang="es" href="https://app.enanos.club/showcase.html">
    <link rel="alternate" hreflang="x-default" href="https://app.enanos.club/showcase.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icon.png">
    <link rel="apple-touch-icon" href="/icon.png">
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    
    <!-- DNS Prefetch for performance -->
    <link rel="dns-prefetch" href="//api.allorigins.win">
    <link rel="dns-prefetch" href="//cors-anywhere.herokuapp.com">
    <link rel="dns-prefetch" href="//api.codetabs.com">
    
    <!-- External Resources -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Enanos Club",
        "description": "Colección de 188 NFTs únicos de enanos legendarios con historias épicas y poderes mágicos extraordinarios",
        "url": "https://app.enanos.club/showcase.html",
        "publisher": {
            "@type": "Organization",
            "name": "Enanos Club",
            "url": "https://app.enanos.club",
            "logo": {
                "@type": "ImageObject",
                "url": "https://app.enanos.club/logo.png"
            },
            "sameAs": [
                "https://x.com/enanos_club",
                "https://discord.gg/TkFVATms32",
                "https://era.guild.xyz/enanos-club-base"
            ]
        },
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://app.enanos.club/nfts?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Collection",
        "name": "Enanos Club NFT Collection",
        "description": "Colección de 188 NFTs únicos de enanos legendarios de las montañas con diferentes series épicas y atributos especiales",
        "url": "https://app.enanos.club/showcase.html",
        "image": "https://app.enanos.club/hero.png",
        "creator": {
            "@type": "Organization",
            "name": "Enanos Club"
        },
        "collectionSize": 188,
        "mainEntity": {
            "@type": "ItemList",
            "name": "Enanos Legendarios",
            "description": "NFTs de enanos únicos con historias épicas",
            "numberOfItems": 188
        }
    }
    </script>
    <style>
        :root {
            --app-background: #f8f5f0;
            --app-foreground: #2d2418;
            --app-accent: #8b4513;
            --app-accent-hover: #a0522d;
            --app-purple: #6b4c93;
            --app-cyan: #4a6741;
            --app-green: #556b2f;
            --app-surface: rgba(139, 69, 19, 0.08);
            --app-paper-bg: #fefcf7;
            --app-paper-border: rgba(139, 69, 19, 0.25);
            --app-shadow-card: 0 6px 20px rgba(139, 69, 19, 0.12);
        }

        body {
            background: var(--app-background);
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(139, 69, 19, 0.04) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(107, 76, 147, 0.04) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(85, 107, 47, 0.03) 0%, transparent 50%);
            font-family: "Crimson Text", serif;
            color: var(--app-foreground);
        }

        .font-display {
            font-family: "Playfair Display", serif;
            font-weight: 700;
            font-style: italic;
        }

        .paper {
            background: var(--app-paper-bg);
            border: 1px solid var(--app-paper-border);
            box-shadow: var(--app-shadow-card);
            position: relative;
        }

        .paper::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(90deg, transparent 98%, rgba(139, 69, 19, 0.03) 100%),
                linear-gradient(0deg, transparent 98%, rgba(139, 69, 19, 0.03) 100%);
            background-size: 20px 20px;
            pointer-events: none;
        }

        .vintage-button {
            background: var(--app-surface);
            border: 2px solid var(--app-paper-border);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .vintage-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(139, 69, 19, 0.08), transparent);
            transition: left 0.6s ease-out;
        }

        .vintage-button:hover::before {
            left: 100%;
        }

        .vintage-button:hover {
            background: rgba(139, 69, 19, 0.08);
            border-color: var(--app-accent);
            box-shadow: var(--app-shadow-card);
            transform: translateY(-1px);
        }

        .social-button {
            transition: all 0.2s ease;
        }

        .social-button:hover {
            transform: scale(1.03);
            box-shadow: var(--app-shadow-card);
        }

        .nft-card {
            background: rgba(255, 255, 255, 0.85);
            border: 1px solid var(--app-paper-border);
            box-shadow: var(--app-shadow-card);
            transition: all 0.2s ease;
        }

        .nft-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.12);
        }

        .gradient-primary {
            background: linear-gradient(135deg, #8b4513 0%, #6b4c93 100%);
        }

        .gradient-secondary {
            background: linear-gradient(135deg, #4a6741 0%, #556b2f 100%);
        }

        .animate-float {
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-6px); }
        }

        .animate-pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .nft-card img {
            transition: transform 0.3s ease;
        }

        .nft-card:hover img {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Header -->
    <header class="relative overflow-hidden" role="banner">
        <div class="absolute inset-0 bg-gradient-to-br from-amber-100/60 to-orange-100/60"></div>
        <div class="relative z-10 container mx-auto px-4 py-16 text-center">
            <div class="paper rounded-2xl p-10 max-w-5xl mx-auto">
                <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-display text-amber-800 mb-6 animate-float">
                    Enanos Club
                </h1>
                <p class="text-xl sm:text-2xl md:text-3xl text-amber-700 mb-4 font-medium">
                    188 enanos únicos de las montañas legendarias
                </p>
                <p class="text-base sm:text-lg md:text-xl text-amber-600 mb-10 max-w-3xl mx-auto leading-relaxed">
                    Cada uno con su propia historia épica y poderes mágicos extraordinarios
                </p>
                
                <!-- CTA Principal -->
                <div class="mb-12">
                    <a 
                        href="https://farcaster.xyz/miniapps/d06uqwgoHi2H/enanos-club" 
                        target="_blank"
                        class="inline-block vintage-button px-6 sm:px-8 md:px-10 py-4 sm:py-5 rounded-xl text-white font-semibold text-lg sm:text-xl gradient-primary hover:scale-105 transition-all duration-300"
                    >
                        🏔️ Visitar Mini App en Farcaster
                    </a>
                </div>

                <!-- Social Links -->
                <div class="flex justify-center space-x-4 sm:space-x-6 mb-8">
                    <a 
                        href="https://x.com/enanos_club" 
                        target="_blank"
                        class="social-button w-12 h-12 sm:w-14 sm:h-14 bg-amber-100 hover:bg-amber-200 rounded-full flex items-center justify-center border-2 border-amber-300 shadow-md"
                        aria-label="Twitter"
                    >
                        <svg class="w-6 h-6 text-amber-700" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                        </svg>
                    </a>
                    <a 
                        href="https://discord.gg/TkFVATms32" 
                        target="_blank"
                        class="social-button w-12 h-12 sm:w-14 sm:h-14 bg-amber-100 hover:bg-amber-200 rounded-full flex items-center justify-center border-2 border-amber-300 shadow-md"
                        aria-label="Discord"
                    >
                        <svg class="w-6 h-6 text-amber-700" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
                        </svg>
                    </a>
                    <a 
                        href="https://opensea.io/collection/enanos-de-leyenda" 
                        target="_blank"
                        class="social-button w-12 h-12 sm:w-14 sm:h-14 bg-amber-100 hover:bg-amber-200 rounded-full flex items-center justify-center border-2 border-amber-300 shadow-md"
                        aria-label="OpenSea"
                    >
                        <svg class="w-6 h-6 text-amber-700" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20 21c-1.39 0-2.78-.47-4-1.32-2.44 1.71-5.56 1.71-8 0C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 2.52 1.29 5.48 1.29 8 0 1.26.65 2.62.99 4 .99h2v-2h-2zM3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l2.18-7.65-2.23-.14V7h-5V1H9v6H4v4.21l-2.23.14L3.95 19z"/>
                        </svg>
                    </a>
                    <a 
                        href="https://era.guild.xyz/enanos-club-base" 
                        target="_blank"
                        class="social-button w-12 h-12 sm:w-14 sm:h-14 bg-amber-100 hover:bg-amber-200 rounded-full flex items-center justify-center border-2 border-amber-300 shadow-md"
                        aria-label="Guild"
                    >
                        <svg class="w-6 h-6 text-amber-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-16" role="main">
        <!-- Stats Section -->
        <section class="mb-20" aria-labelledby="collection-stats">
            <div class="paper rounded-2xl p-10">
                <h2 id="collection-stats" class="text-3xl sm:text-4xl font-display text-amber-800 text-center mb-12">
                    Colección Épica
                </h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8">
                    <div class="nft-card rounded-xl p-8 text-center">
                        <div class="text-5xl font-bold text-amber-800 mb-3">188</div>
                        <div class="text-xl text-amber-700 font-semibold mb-2">NFTs Únicos</div>
                        <div class="text-amber-600">Cada enano es único</div>
                    </div>
                    <div class="nft-card rounded-xl p-8 text-center">
                        <div class="text-5xl font-bold text-amber-800 mb-3">10</div>
                        <div class="text-xl text-amber-700 font-semibold mb-2">Series Épicas</div>
                        <div class="text-amber-600">Diferentes especialidades</div>
                    </div>
                    <div class="nft-card rounded-xl p-8 text-center">
                        <div class="text-5xl font-bold text-amber-800 mb-3">30+</div>
                        <div class="text-xl text-amber-700 font-semibold mb-2">Atributos</div>
                        <div class="text-amber-600">Estadísticas únicas</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- NFT Gallery -->
        <section class="mb-20" aria-labelledby="nft-gallery-title">
            <div class="paper rounded-2xl p-10">
                <h2 id="nft-gallery-title" class="text-3xl sm:text-4xl font-display text-amber-800 text-center mb-12">
                    Galería de Enanos
                </h2>
                <div id="nft-gallery" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8" role="list" aria-label="Galería de NFTs de Enanos">
                    <!-- NFTs will be loaded here dynamically -->
                </div>
                <div id="loading" class="text-center py-12" role="status" aria-live="polite">
                    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600" aria-hidden="true"></div>
                    <p class="text-amber-600 mt-4">Cargando enanos legendarios...</p>
                </div>
            </div>
        </section>

        <!-- CTA Final -->
        <section class="text-center" aria-labelledby="cta-title">
            <div class="paper rounded-2xl p-12 max-w-3xl mx-auto">
                <h2 id="cta-title" class="text-3xl sm:text-4xl font-display text-amber-800 mb-6">
                    ¡Únete a la Aventura!
                </h2>
                <p class="text-amber-700 mb-8 text-lg sm:text-xl leading-relaxed">
                    Descubre cada enano único, sus historias épicas y poderes mágicos extraordinarios.
                </p>
                <a 
                    href="https://farcaster.xyz/miniapps/d06uqwgoHi2H/enanos-club" 
                    target="_blank"
                    class="inline-block vintage-button px-6 sm:px-8 md:px-10 py-4 sm:py-5 rounded-xl text-white font-semibold text-lg sm:text-xl gradient-primary hover:scale-105 transition-all duration-300"
                >
                    🚀 Explorar Mini App
                </a>
                <p class="text-amber-600 mt-6 font-medium">
                    Disponible en Farcaster • Versión 1.5.2
                </p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-amber-50/50 border-t border-amber-200 py-8 mt-16" role="contentinfo">
        <div class="container mx-auto px-4 text-center">
            <nav class="flex justify-center space-x-6 mb-4" aria-label="Enlaces de redes sociales">
                <a href="https://x.com/enanos_club" target="_blank" rel="noopener noreferrer" class="text-amber-700 hover:text-amber-800 transition-colors">
                    Twitter
                </a>
                <a href="https://discord.gg/TkFVATms32" target="_blank" rel="noopener noreferrer" class="text-amber-700 hover:text-amber-800 transition-colors">
                    Discord
                </a>
                <a href="https://opensea.io/collection/enanos-de-leyenda" target="_blank" rel="noopener noreferrer" class="text-amber-700 hover:text-amber-800 transition-colors">
                    OpenSea
                </a>
                <a href="https://era.guild.xyz/enanos-club-base" target="_blank" rel="noopener noreferrer" class="text-amber-700 hover:text-amber-800 transition-colors">
                    Guild
                </a>
            </nav>
            <p class="text-amber-600 text-sm">
                © 2024 Enanos Club. Todos los derechos reservados.
            </p>
        </div>
    </footer>

    <script>
        // Función para generar números aleatorios únicos
        function generateRandomTokenIds(count, max = 188) {
            const tokenIds = new Set();
            while (tokenIds.size < count) {
                tokenIds.add(Math.floor(Math.random() * max) + 1);
            }
            return Array.from(tokenIds);
        }

        // Función para obtener metadatos de un NFT usando proxy CORS
        async function fetchNFTMetadata(tokenId) {
            const targetUrl = `https://app.enanos.club/metadata/json/${tokenId}.json`;
            
            // Lista de proxies CORS para intentar
            const corsProxies = [
                'https://api.allorigins.win/raw?url=',
                'https://cors-anywhere.herokuapp.com/',
                'https://api.codetabs.com/v1/proxy?quest='
            ];
            
            // Intentar con cada proxy
            for (const proxyUrl of corsProxies) {
                try {
                    const response = await fetch(proxyUrl + encodeURIComponent(targetUrl));
                    
                    if (response.ok) {
                        const data = await response.json();
                        return { tokenId, ...data };
                    }
                } catch (error) {
                    console.warn(`Proxy ${proxyUrl} failed for token ${tokenId}:`, error);
                    continue;
                }
            }
            
            // Si todos los proxies fallan, intentar directamente
            try {
                const response = await fetch(targetUrl);
                if (response.ok) {
                    const data = await response.json();
                    return { tokenId, ...data };
                }
            } catch (error) {
                console.error(`Direct fetch also failed for token ${tokenId}:`, error);
            }
            
            return null;
        }

        // Función para crear una tarjeta de NFT
        function createNFTCard(nftData) {
            if (!nftData) return '';

            const { tokenId, name, description, image, attributes } = nftData;
            
            // Buscar atributos específicos
            const age = attributes?.find(attr => attr.trait_type === 'Age')?.value || 'Desconocido';
            const mastery = attributes?.find(attr => attr.trait_type === 'Mastery')?.value || 'N/A';
            const series = attributes?.find(attr => attr.trait_type === 'Series')?.value || 'Misteriosa';
            const rarity = attributes?.find(attr => attr.trait_type === 'Rarity')?.value || 'Común';

            // Generar color de fondo basado en la rareza
            const getRarityColor = (rarity) => {
                switch (rarity.toLowerCase()) {
                    case 'legendary': return 'from-purple-100 to-violet-100';
                    case 'epic': return 'from-blue-100 to-cyan-100';
                    case 'rare': return 'from-green-100 to-emerald-100';
                    case 'uncommon': return 'from-yellow-100 to-amber-100';
                    default: return 'from-amber-100 to-yellow-100';
                }
            };

            return `
                <article class="nft-card rounded-xl p-6" role="listitem" itemscope itemtype="https://schema.org/CreativeWork">
                    <div class="aspect-square bg-gradient-to-br ${getRarityColor(rarity)} rounded-xl mb-4 flex items-center justify-center overflow-hidden">
                        ${image ? 
                            `<img src="${image}" alt="${name || `Enano #${tokenId}`}" class="w-full h-full object-cover rounded-xl" loading="lazy" itemprop="image">` : 
                            `<div class="text-6xl" aria-label="Imagen de enano no disponible">⚒️</div>`
                        }
                    </div>
                    <h3 class="text-lg font-semibold text-amber-800 mb-2 truncate" itemprop="name">${name || `Enano #${tokenId}`}</h3>
                    <p class="text-amber-700 text-sm mb-3 line-clamp-2" itemprop="description">${description || 'Un enano legendario de las montañas'}</p>
                    <dl class="space-y-1 text-xs text-amber-600">
                        <div class="flex justify-between">
                            <dt class="sr-only">Token ID</dt>
                            <dd class="font-medium">#${tokenId}</dd>
                        </div>
                        <div class="flex justify-between">
                            <dt>Serie:</dt>
                            <dd class="font-medium">${series}</dd>
                        </div>
                        <div class="flex justify-between">
                            <dt>Edad:</dt>
                            <dd class="font-medium">${age}</dd>
                        </div>
                        <div class="flex justify-between">
                            <dt>Maestría:</dt>
                            <dd class="font-medium">${mastery}</dd>
                        </div>
                        <div class="flex justify-between">
                            <dt>Rareza:</dt>
                            <dd class="font-medium text-amber-700">${rarity}</dd>
                        </div>
                    </dl>
                </article>
            `;
        }

        // Función principal para cargar NFTs
        async function loadRandomNFTs() {
            const gallery = document.getElementById('nft-gallery');
            const loading = document.getElementById('loading');
            
            try {
                // Generar 20 token IDs aleatorios
                const tokenIds = generateRandomTokenIds(20);
                
                // Mostrar progreso de carga
                loading.innerHTML = `
                    <div class="text-center py-12">
                        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mb-4"></div>
                        <p class="text-amber-600">Cargando enanos legendarios...</p>
                        <p class="text-sm text-amber-500 mt-2">Obteniendo metadatos de ${tokenIds.length} NFTs</p>
                    </div>
                `;
                
                // Obtener metadatos de todos los NFTs en paralelo
                const nftPromises = tokenIds.map(tokenId => fetchNFTMetadata(tokenId));
                const nftResults = await Promise.all(nftPromises);
                
                // Filtrar resultados nulos y crear tarjetas
                const validNFTs = nftResults.filter(nft => nft !== null);
                
                if (validNFTs.length === 0) {
                    gallery.innerHTML = `
                        <div class="col-span-full text-center text-amber-600 py-12">
                            <div class="text-6xl mb-4">⚠️</div>
                            <h3 class="text-xl font-semibold mb-4">Problema de CORS</h3>
                            <p class="mb-6">No se pudieron cargar los NFTs debido a restricciones de CORS.</p>
                            <button onclick="loadRandomNFTs()" class="vintage-button px-6 py-3 rounded-lg text-white font-semibold gradient-primary hover:scale-105 transition-all duration-300">
                                🔄 Intentar de nuevo
                            </button>
                            <p class="text-sm mt-4 text-amber-500">
                                Si el problema persiste, verifica la consola del navegador para más detalles.
                            </p>
                        </div>
                    `;
                } else {
                    // Crear y mostrar las tarjetas
                    const nftCards = validNFTs.map(nft => createNFTCard(nft)).join('');
                    gallery.innerHTML = nftCards;
                    
                    // Mostrar mensaje de éxito si se cargaron menos de 20
                    if (validNFTs.length < 20) {
                        const successMessage = document.createElement('div');
                        successMessage.className = 'col-span-full text-center text-amber-600 py-4 text-sm';
                        successMessage.innerHTML = `✅ Se cargaron ${validNFTs.length} de 20 NFTs. Algunos pueden no estar disponibles.`;
                        gallery.insertBefore(successMessage, gallery.firstChild);
                    }
                }
                
                // Ocultar loading
                loading.style.display = 'none';
                
            } catch (error) {
                console.error('Error loading NFTs:', error);
                gallery.innerHTML = '<div class="col-span-full text-center text-amber-600">Error al cargar los NFTs. Intenta recargar la página.</div>';
                loading.style.display = 'none';
            }
        }

        // Cargar NFTs cuando la página esté lista
        document.addEventListener('DOMContentLoaded', loadRandomNFTs);
    </script>
</body>
</html>